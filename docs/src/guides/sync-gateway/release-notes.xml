<guide xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../../docs.xsd"
    id="release-notes">
    <title>Release notes</title>
    <description>Release notes for Sync Gateway.</description>
    <introduction>
        <paragraph>
            Release notes for Sync Gateway.
        </paragraph>
    </introduction>
    <articles>
        <article id="1.0.4">
            <title>1.0.4, March 5, 2015</title>
            <description>1.0.4 Release Notes for Sync Gateway</description>
            <introduction>
                    <paragraph>
                        In 1.0.4 we've made several usability improvements, primarily around installation and document management.  Below is a highlight of issues fixed and enhancements added:
                    </paragraph>

                    <unordered-list>
                        <list-item>Added support for public document channel.  Access to the '!' channel is automatically granted to all users – includes cleanup around handling of the '*' channel.</list-item>
                        <list-item>Added id property to oldDoc for ease-of-use in sync function</list-item>
                        <list-item>Fix to support update if an attachment's source revision has been compacted away</list-item>
                        <list-item>Increase TAP sequence buffer time to avoid potential data loss </list-item>
                        <list-item>Enhancements for Sync Gateway installation scripts
                            <unordered-list>
                                <list-item>Added support for service creation on Centos7 and Mac OS X</list-item>
                                <list-item>Fix for installation when the Sync Gateway runtime user account doesn't exist</list-item>
                                <list-item>Support for <code>—runas</code> to simplify installation to user's home</list-item>
                                <list-item>Various improvements to usage notes and error handling for scripts</list-item>
                            </unordered-list>
                        </list-item>
                    </unordered-list>

                    <paragraph>
                        Our service install script now supports the installation of Sync Gateway as a service on both Windows and Centos 7.
                    </paragraph>

            </introduction>
        </article>
        <article id="1.0.3">
            <title>1.0.3, October 29, 2014</title>
            <description>1.0.3 Release Notes for Sync Gateway</description>
            <introduction>
                    <paragraph>
                        In 1.0.3 we have begun to reduce friction in the Sync Gateway's usability. We've added install scripts to expedite the installation of Sync Gateway as a service on Ubuntu and RedHat, made preventative measures against the POODLE vulnerability by disallowing SSLv3 connections, and improved the overall session management for custom authentication integration. Below is a highlight of issues fixed, and enhancements added:
                    </paragraph>

                    <unordered-list>
                        <list-item>Fixed issue where a channel assigned to non existent user in sync function, would not get assigned when user was later added.</list-item>
                        <list-item>Fixed issue where a bulk_docs request contains a document that alters channel access for the user making the request and the change doesn't take effect until after the request completes.</list-item>
                        <list-item>Fixed issue where getting doc with <code>attachments=true</code> and <code>atts_since</code>, might return data from a previous call.</list-item>
                        <list-item>Fixed issue where existing documents assigned to a channel are not synced to a user that is assigned access to that channel at a later time</list-item>
                        <list-item><code>POST</code> to <code>/db</code> now respects an incoming <code>_id</code> property, such that the value is used as the doc id rather than a UUID</list-item>
                        <list-item>Set an expiration time for obsolete revisions to support automatic cleanup</list-item>
                        <list-item>Ensure only active channels are returned in <code>_all_docs channels=true</code></list-item>
                        <list-item><code>_all_docs</code> now supports limit, startkey and endkey arguments</list-item>
                        <list-item>Improved session management via Admin API for DELETE and GET</list-item>
                        <list-item>Added support for setting custom read/write timeouts on HTTP(S) server</list-item>
                    </unordered-list>

                    <paragraph>
                        Our new install script support the installation of Sync Gateway as a service on the following platforms:
                    </paragraph>

                    <unordered-list>
                        <list-item>Ubuntu 10.04, 32- and 64-bit</list-item>
                        <list-item>Ubuntu 12.04, 32- and 64-bit</list-item>
                        <list-item>Ubuntu 14.04, 32- and 64-bit</list-item>
                        <list-item>Centos 5, 32- and 64-bit</list-item>
                        <list-item>Centos 6, 32- and 64-bit</list-item>
                    </unordered-list>

                    <paragraph>
                        You can manually install Sync Gateway as a service onto Centos 7. Support for Centos 7 in our automated installation scripts will be coming soon.
                    </paragraph>
            </introduction>
        </article>
        <article id="1.0.2">
            <title>1.0.2, August 27, 2014</title>
            <description>1.0.2 Release Notes for Sync Gateway</description>
            <introduction>
                <paragraph>
                    In our latest quality release, 1.0.2, we've tackled usability issues that have surfaced since 1.0.0, in particular
                    taking a look at a replication loops that arose from manually adding new users to a channel, 
                    enhancing our shadow bucket feature with protected buckets, handling bad behavior scenarios like extremely
                    short passwords, performance issues around <code>_all_docs</code>, and added support to handle in-production changes of the
                    sync function without forcing downtime of the Sync Gateway node. These fixes and more are detailed in our highlights list below:
                </paragraph>
                
                <paragraph>
                	<unordered-list>
						<list-item>Fixed race condition: err "the pool is closed" during a rebalance</list-item>
						<list-item>Added <code>SlowServerCallWarningThreshold</code> config variable that alerts when requests to Couchbase buckets take longer than expected</list-item>
						<list-item>Fixed replication bugs after users are manually added to channels <external-ref href="https://github.com/couchbase/sync_gateway/issues/314">#314</external-ref></list-item>
						<list-item><code>requireRole</code> function throw 403 missing role <external-ref href="https://github.com/couchbase/sync_gateway/issues/335">#335</external-ref></list-item>
						<list-item>Can't shadow a password protected bucket <external-ref href="https://github.com/couchbase/sync_gateway/issues/332">#332</external-ref></list-item>
						<list-item>Sync gateway does not return error when client push a document over maximum limit <external-ref href="https://github.com/couchbase/sync_gateway/issues/342">#342</external-ref></list-item>
						<list-item>Error when updating with 1 char password, hashing panics on too-short passwords <external-ref href="https://github.com/couchbase/sync_gateway/issues/363">#363</external-ref></list-item>
						<list-item><code>_all_docs</code> slow <external-ref href="https://github.com/couchbase/sync_gateway/issues/326">#326</external-ref></list-item>
						<list-item>Admin API <code>/db/_resync</code> added that can perform a re-sync with an updated sync function <external-ref href="https://github.com/couchbase/sync_gateway/issues/116">#116</external-ref></list-item>
					</unordered-list>
                </paragraph>
            </introduction>
        </article>
        <article id="1.0.1">
            <title>1.0.1, July 28, 2014</title>
            <description>1.0.1 Release Notes for Sync Gateway</description>
            <introduction>
                <paragraph>
                    This is our first patch for our 1.0.0 release from May. 
                    Issues addressed center on improving the Sync Gateway's performance, bumping up the current limitation on the Attachment size, and
                    continued development of our experimental admin tooling centered on Sync Function development.
                </paragraph>
                
                <paragraph>
                	<unordered-list>
                    	<list-item>Fixed issues handling attachments over 10MB (the size limit is still 20MB) <external-ref href="https://github.com/couchbase/sync_gateway/issues/333">#333</external-ref></list-item>
						<list-item>Fixed requireRole( ) function called in sync functions <external-ref href="https://github.com/couchbase/sync_gateway/issues/335">#335</external-ref></list-item>
						<list-item>Updates to the experimental admin UI</list-item>
					</unordered-list>
                </paragraph>
            </introduction>
        </article>
        <article id="1.0.0">
            <title>1.0.0, May 21, 2014</title>
            <description>1.0.0 Release Notes for Sync Gateway</description>
            <introduction>
                <paragraph>
                    This is our first production-ready release of Sync Gateway. A major change between our last Beta and our 1.0.0
                    release was major performance tweaks to optimize the flow of data between client to Sync Gateway, and building 
                    an understanding of best practices and sizing for deployment with common use case models. You can learn our findings
                    in the Deployment guide that addresses this very topic.
                </paragraph>
                
                <paragraph>
                    Another addition was the availability of the Windows installer. A popular request, we finally added this package for our
                    1.0.0 release. We now have support the same platforms as Couchbase Server, including: Red Hat, Ubuntu, Mac and
                    Windows.
                </paragraph>
            </introduction>
        </article>
    </articles>
</guide>

