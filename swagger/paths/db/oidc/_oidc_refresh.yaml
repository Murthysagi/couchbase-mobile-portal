parameters:
  - $ref: '#/parameters/db'
get:
  tags:
    - auth
  summary: OpenID Connect refresh.
  description: |
    Used to obtain a new OpenID Connect ID token based on the provided refresh token.
  parameters:
    - in: query
      name: refresh_token
      description: OpenID Connect refresh token. 
      type: string
      required: true
    - in: query
      name: provider
      description: OpenId Connect provider to be used for authentication, from the list of providers defined in the Sync Gateway Config. If not specified, will attempt to authenticate using the default provider.
      type: string
      required: false
  responses:
    200:
      description: Successful OpenID Connect authentication.
      schema:
        type: object
        properties:
          id_token: 
            type: string
            description: OpenID Connect ID token
          session_id:
            type: string
            description: Sync Gateway session token
          name: 
            type: string
            description: Sync Gateway username 
          access_token:
            type: string
            description: OpenID Connect access token
          token_type:
            type: string
            description: OpenID Connect token type
          expires_in:
            type: number
            description: TTL for id_token
    400:
      description: Bad request.  
    401:
      description: Authentication failed.  Unable to refresh token.

    